function randomNames(n,a){for(var e=[],i=names[n],s=i[a],r=6,t=0;t<s.length;t++)e[t]=s[t];for(var o=0;3>o;o++){var c=Math.floor(Math.random()*(r-0))+0;finalName[o]=e[c];{e.splice(c,1)}r--}$(".payment").hide(),$(".share").show(),ctx.fillText(finalName[0],125,250),ctx.fillText(finalName[1],125,275),ctx.fillText(finalName[2],125,300)}$(".signs").hide(),$(".payment").hide(),$(".share").hide();var sex=null,clickedSign=null,finalName=[],names={male:{rat:["John","Bob","Carl","Jason","Brian","James"],ox:["John","Bob","Carl","Jason","Brian","James"],tiger:["John","Bob","Carl","Jason","Brian","James"],rabbit:["John","Bob","Carl","Jason","Brian","James"],dragon:["John","Bob","Carl","Jason","Brian","James"],snake:["John","Bob","Carl","Jason","Brian","James"],horse:["John","Bob","Carl","Jason","Brian","James"],sheep:["John","Bob","Carl","Jason","Brian","James"],monkey:["John","Bob","Carl","Jason","Brian","James"],rooster:["John","Bob","Carl","Jason","Brian","James"],dog:["John","Bob","Carl","Jason","Brian","James"],pig:["John","Bob","Carl","Jason","Brian","James"]},female:{rat:["Mary","Susan","Jenny","Jessica","Britney","Clare"],ox:["Mary","Susan","Jenny","Jessica","Britney","Clare"],tiger:["Mary","Susan","Jenny","Jessica","Britney","Clare"],rabbit:["Mary","Susan","Jenny","Jessica","Britney","Clare"],dragon:["Mary","Susan","Jenny","Jessica","Britney","Clare"],snake:["Mary","Susan","Jenny","Jessica","Britney","Clare"],horse:["Mary","Susan","Jenny","Jessica","Britney","Clare"],sheep:["Mary","Susan","Jenny","Jessica","Britney","Clare"],monkey:["Mary","Susan","Jenny","Jessica","Britney","Clare"],rooster:["Mary","Susan","Jenny","Jessica","Britney","Clare"],dog:["Mary","Susan","Jenny","Jessica","Britney","Clare"],pig:["Mary","Susan","Jenny","Jessica","Britney","Clare"]}},canvas=document.getElementById("myCanvas");canvas.width=300,canvas.height=300;var ctx=canvas.getContext("2d"),img=document.getElementById("imageNames"),x=canvas.width/2-img.width/2,y=canvas.height/2-img.height/2;ctx.fillStyle="rgb(255, 0, 0)",ctx.font="25px arial",ctx.lineWidth=3,img.onload=function(){ctx.drawImage(img,x,y)},$("#male").on("click",function(){$(".sex").hide(),$(".signs").show(),sex="male"}),$("#female").on("click",function(){$(".sex").hide(),$(".signs").show(),sex="female"}),$("#signs li").on("click",function(){clickedSign=$(this).attr("id"),$(".signs").hide(),$(".payment").show()}),$("#pay").on("click",function(){randomNames(sex,clickedSign)}),$(document).ready(function(){function n(){for(var n="",a="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",e=0;16>e;e++)n+=a.charAt(Math.floor(Math.random()*a.length));return n}function a(){return Math.floor(Date.now()/1e3)}var e="access_token=mCADCKisBHh0M0YNOCBbf_5oE-y4KZJIWh-utKFreDMZcZQQ5LWQoxspLYBHSFZ8ehcLZbRNG8yhtmZks26gDRAqJTKzm_MAZf7_YcQyXMiJlzud1snhuuFuKHEivF92JPGhAJAYEV",i="&type=jsapi";$.getJSON("https://api.wechat.com/cgi-bin/ticket/getticket?"+e+i,function(e){alert("It Works");var i=e.ticket,s="noncestr="+n,r="jsapi_ticket="+i,t="timestamp="+a,o="url=http://admin.wechat.com",c=CryptoJS.SHA1(r+s+t+o),l=CryptoJS.enc.Hex.stringify(c);wx.config({debug:!0,appId:"wx9c33ee0327446559",timestamp:t,nonceStr:s,signature:l,jsApiList:["onMenuShareTimeline","onMenuShareAppMessage"]})})}),wx.ready(function(){wx.onMenuShareTimeline({title:"",link:"",imgUrl:"",success:function(){},cancel:function(){}}),wx.onMenuShareAppMessage({title:"",desc:"",link:"",imgUrl:"",type:"",dataUrl:"",success:function(){},cancel:function(){}})}),wx.error(function(n){alert(n.errMsg)});